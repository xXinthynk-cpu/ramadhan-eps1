<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lunatic Fashion Store</title>
<style>
body{font-family:Arial;background:#f6f1e8;margin:0}
header{background:#0f2f25;color:white;padding:15px;display:flex;justify-content:space-between}
.cart{background:#d4af37;color:black;padding:5px 10px;border-radius:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:15px;padding:20px}
.card{background:white;border-radius:10px;overflow:hidden}
.card img{width:100%;height:200px;object-fit:cover}
.card-body{padding:10px}
button{background:#0f2f25;color:white;border:none;padding:8px;width:100%;cursor:pointer}
</style>
</head>
<body>

<header>
<h2>Lunatic Fashion Store</h2>
<div class="cart">Keranjang (<span id="cartCount">0</span>)</div>
</header>

<div class="grid" id="productContainer"></div>

<script>
let products=JSON.parse(localStorage.getItem("products"))||[];
let cart=0;
let container=document.getElementById("productContainer");

function render(){
container.innerHTML="";
products.forEach((p,i)=>{
container.innerHTML+=`
<div class="card">
<img src="${p.image}">
<div class="card-body">
<h3>${p.name}</h3>
<p>${p.price}</p>
<p>Stok: ${p.stock}</p>
<button onclick="addToCart(${i})" ${p.stock<=0?'disabled':''}>
${p.stock<=0?'Stok Habis':'Tambah ke Keranjang'}
</button>
</div>
</div>`;
});
}

function addToCart(i){
if(products[i].stock>0){
products[i].stock--;
cart++;
document.getElementById("cartCount").innerText=cart;
localStorage.setItem("products",JSON.stringify(products));
render();
}
}

render();
</script>

</body>
</html>
